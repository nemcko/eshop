define(["controllers/controllers","services/apiService"],function(e){e.controller("RegdataCtrl",["$scope","ApiSvc","tools","$modal","$stateParams","$locale","$timeout",function(a,d,f,e,g,h,k){a.showUserdataSection=[!0,!0,!0,!0,!0];a.regdata={};a.xdata=null;a.persdata=1;a.ToggleUserdataSelection=function(b){a.showUserdataSection[b]=!a.showUserdataSection[b]};a.Saved=function(a){f.MsgBox(a)};a.SaveRegdata=function(b){d.checkInputErrors(a,b)&&(2!=b||d.setData("data/checkuser",a.$parent.clientData.sid,
a.regdata.data2)?d.setData("data/regdata"+b,a.$parent.clientData.sid,a.regdata["data"+b],a.Saved):d.setInputError(a,"regdata.data2.pwd","Nespr\u00e1vne zadan\u00e9 heslo"))};a.CheckInput1=function(b){var c="";if(void 0!==b){a.checkInputErrors1[b]=!1;switch(b){case "regdata.data1.email":a.regdata.data1.email||(c="Va\u0161u adresu pre elektronick\u00fa po\u0161tu je potrebn\u00e9 vyplni\u0165",a.checkInputErrors1[b]=!0)}return c}return d.checkInputErrors(a,"1")};a.CheckInput2=function(b){var c="";if(void 0!==
b){a.checkInputErrors2[b]=!1;switch(b){case "regdata.data2.pwd":a.regdata.data2.pwd||(c="Pou\u017e\u00edvate\u013esk\u00e9 heslo je potrebn\u00e9 vyplni\u0165",a.checkInputErrors2[b]=!0);break;case "regdata.data2.npwd":a.regdata.data2.npwd||(c="Pou\u017e\u00edvate\u013esk\u00e9 nov\u00e9 heslo je potrebn\u00e9 vyplni\u0165",a.checkInputErrors2[b]=!0);break;case "npwd2":a.npwd2!=a.regdata.data2.npwd&&(c="kontroln\u00e9 heslo nie je toto\u017en\u00e9 so zadan\u00fdm heslom",a.checkInputErrors2[b]=!0)}return c}return d.checkInputErrors(a,
"2")};a.CheckInput3=function(b){var c="";if(void 0!==b){a.checkInputErrors3[b]=!1;switch(b){case "regdata.data3.name":a.regdata.data3.name||(c="Meno pre faktur\u00e1ciu je potrebn\u00e9 vyplni\u0165",a.checkInputErrors3[b]=!0);break;case "regdata.data3.surname":a.regdata.data3.surname||(c="Priezvisko pre faktur\u00e1ciu je potrebn\u00e9 vyplni\u0165",a.checkInputErrors3[b]=!0);break;case "regdata.data3.ico":a.regdata.data3.company&&!a.regdata.data3.ico&&(c="Pre firmu je potrebn\u00e9 vyplni\u0165 I\u010cO",
a.checkInputErrors3[b]=!0);break;case "regdata.data3.dic":a.regdata.data3.company&&!a.regdata.data3.dic&&(c="Pre firmu je potrebn\u00e9 vyplni\u0165 DI\u010c",a.checkInputErrors3[b]=!0);break;case "regdata.data3.phone":a.regdata.data3.phone||(c="Telef\u00f3nne \u010d\u00edslo je potrebn\u00e9 vyplni\u0165",a.checkInputErrors3[b]=!0);break;case "regdata.data3.zip":a.regdata.data3.zip||(c="PS\u010c pre faktur\u00e1ciu je potrebn\u00e9 vyplni\u0165",a.checkInputErrors3[b]=!0);break;case "regdata.data3.city":a.regdata.data3.city||
(c="Obec pre faktur\u00e1ciu je potrebn\u00e9 vyplni\u0165",a.checkInputErrors3[b]=!0)}return c}return d.checkInputErrors(a,"2")};a.ErasePersData=function(b){"yes"==b&&d.getData("data/nopersdata",{xdata:d.encodeData(a.$parent.clientData.uid,a.$parent.clientData.sid)},a.$parent.ClientData);a.persdata=1};a.NoPersData=function(){f.MsgBox("Osobn\u00e9 \u00fadaje","V pr\u00edpade, ak nes\u00fahlas\u00edte so spracovan\u00edm Va\u0161ich osobn\u00fdch \u00fadajov, Va\u0161a registr\u00e1cia v e-shope bude zru\u0161en\u00e1 a Va\u0161e osobn\u00e9 \u00fadaje odstr\u00e1nen\u00e9 zo syst\u00e9mu, nebudete m\u00f4c\u0165 vyu\u017ei\u0165 v\u00fdhody registrovan\u00e9ho pou\u017e\u00edvate\u013ea e-shopu.<br /><br />Chcete vykona\u0165 t\u00fato oper\u00e1ciu?",
"exclamation-sign","yes-no-cancel",a.ErasePersData)};a.RegData=function(b){if(b=d.decodeData(b,a.$parent.clientData.sid))a.regdata=b};a.SaveEmail=function(b){d.setData("data/regdata5",a.$parent.clientData.sid,{sendemail:b})};a.$watch("$parent.clientData.uid",function(b,c){b!==c&&a.LoadData()},!0);a.LoadData=function(){d.getData("data/regdata",{xdata:d.encodeData(a.$parent.clientData.uid,a.$parent.clientData.sid)},a.RegData)};a.LoadData()}])});
