define(["controllers/controllers","services/apiService"],function(e){e.controller("NewregCtrl",["$scope","ApiSvc","tools","$modal","$stateParams","$locale","$timeout",function(a,c,e,f,g,h,k){a.newreg={username:"",pwd:"",email:"",sendemail:!0};a.pwd2="";a.CheckInput=function(b){var d="";if(void 0!==b){a.checkInputErrors[b]=!1;switch(b){case "newreg.username":a.newreg.username||(d="Pou\u017e\u00edvate\u013esk\u00e9 meno je potrebn\u00e9 vyplni\u0165",a.checkInputErrors[b]=!0);break;case "newreg.email":a.newreg.email||
(d="Va\u0161u adresu pre elektronick\u00fa po\u0161tu je potrebn\u00e9 vyplni\u0165",a.checkInputErrors[b]=!0);break;case "newreg.pwd":a.newreg.pwd||(d="Pou\u017e\u00edvate\u013esk\u00e9 heslo je potrebn\u00e9 vyplni\u0165",a.checkInputErrors[b]=!0);break;case "pwd2":a.pwd2!=a.newreg.pwd&&(d="kontroln\u00e9 heslo nie je toto\u017en\u00e9 so zadan\u00fdm heslom",a.checkInputErrors[b]=!0)}return d}return c.checkInputErrors(a)};a.EnData=function(b){a.$parent.$parent.data.ClientData(b);e.MsgBox("Registr\u00e1cia",
"Va\u0161a registr\u00e1cia prebehla \u00faspe\u0161ne, prihlasovacie \u00fadaje boli poslan\u00e9 na Va\u0161u e-mailov\u00fa adresu.")};a.CheckData=function(){c.checkInputErrors(a)&&(c.getData("data/checkuser",{usr:a.newreg.username})?c.setInputError(a,"newreg.username","Zadan\u00fd pou\u017e\u00edvate\u013e u\u017e existuje"):(c.setData("data/newreg",a.$parent.$parent.data.clientData.sid,a.newreg,a.EnData),a.ok()))}}])});
