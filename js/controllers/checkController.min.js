define(["controllers/controllers","services/apiService"],function(d){d.controller("CheckCtrl",["$scope","ApiSvc","tools","$modal","$stateParams","$locale","$timeout",function(a,c,d,e,f,g,h){a.userdata={};a.FillDeliveryData=function(b){a.$parent.FillDelivery(b,a)};a.OrderSaved=function(a){d.MsgBox("Objedn\u00e1vka",a);c.goToState("neworder")};a.SaveOrder=function(){c.setData("data/saveorder",a.$parent.clientData.sid,{lng:a.$parent.defOptions.pageSettings.lng},a.OrderSaved)};a.FillUserData=function(b){if(b=
c.decodeData(b,a.$parent.clientData.sid))a.userdata=b;a.userdata.name&&a.userdata.surname&&a.userdata.phone&&a.userdata.zip&&a.userdata.city||c.goToState("neworder")};a.$watch("$parent.clientData.uid",function(b,d){b===d&&void 0!==a.userdata.username||c.getData("data/userdata",null,a.FillUserData)},!0);c.getData("data/dlvpay",null,a.FillDeliveryData)}])});
